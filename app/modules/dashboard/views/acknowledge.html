<section class="content-header">
    
    <h1 style="color: #439ad5;">
<!--        Accounts-->
    </h1>
    
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Dashboard</a></li>
        <li class="active">{{vm.state}}</li>
    </ol>

</section>



<div class = "container-fluid">
     
         
    <section class="content">
        <!-- row -->
        <div class="row">
           <div class="col-md-6">
            </div>

            <div class="pull-right" ng-show="vm.showBroadcast == 2"  ng-if="vm.showBroadcast == 2" style="margin-top:10px;">

                <img src="http://changelives.org/wp-content/uploads/2016/04/back-button.jpg" style="width:90px; height:30px; margin-right:50px;" class="user-image" alt="User Image" ng-click="vm.showBroadcast = 1; vm.state = 'Accounts';"/>

            </div>

        </div> <!-- /.row -->


            <br>

        <div class="box box-info" ng-show="vm.showBroadcast == 1" ng-if="vm.showBroadcast == 1">

            <div class="container-fluid">

                <table class="table table-list-search">
                    <tbody>
                        <tr>
                            <td><h4><b>Account Number</b></h4></td>
                            <td><h4><b>Account Opening Date</b></h4></td>
                            <td><h4><b>Account Type</b></h4></td>
                            <td><h4><b>Bank Name</b></h4></td>
                            <td><h4><b>Balance</b></h4></td>
                            <td><h4><b>Status</b></h4></td>
                            <td><b></b></td>
                        </tr>
                        
                        
                        <tr ng-repeat= "accountDetail in accountDetails.content" on-finish-render="ngRepeatFinished">
                            <td>{{accountDetail.accountNumber}}</td>
                            <td>{{accountDetail.accountOpeningDate | date:'yyyy-MM-dd HH:mm'}}</td>
                            <td>{{accountDetail.accountType.accountType}}</td>
                            <td>{{accountDetail.businessUnit.bank.bankName}}</td>
                            <td>{{accountDetail.balance}}</td>
                            <td>{{accountDetail.status}}</td>
                            <td><md-button class="md-raised md-warn" type="button" ng-click="vm.viewTransaction(accountDetail.accountId)">View Transaction Details</md-button></td>

                        </tr>
                    </tbody>
                </table>

            </div>

        </div>

        <div class="row" ng-show="vm.showBroadcast == 2" ng-if="vm.showBroadcast == 2">
            <div class="col-md-12">
                
                
                <!-- row -->
                <div class="row">
                   <div class="col-sm-6 col-md-6 col-lg-6">
                       
                       <div class="box">
                           <div id="chartIdType" class="customChart"></div>
                           <h4 class="website-text">Transactions by Type</h4>
                       </div>

                    </div>

                    <div class="col-sm-6 col-md-6 col-lg-6">
                        
                        <div class="box">
                           <div id="chartId" class="customChart"></div>
                           <h4 class="website-text">Transactions by Category</h4>
                       </div>



                    </div>

                </div>
        
                <div class="box box-info">

                    <table class="table table-list-search">
                        <tbody>
                            <tr>
                                <td><h4><b>Transaction Date</b></h4></td>
                                <td><h4><b>Transaction Type</b></h4></td>
                                <td><h4><b>To Account Number</b></h4></td>
                                <td><h4><b>Amount</b></h4></td>
                                <td><h4><b>Category</b></h4></td>
                                
                                <td><h4><b></b></h4></td>
                            </tr>

                            <tr ng-repeat="transaction in transactions.content" on-finish-render="ngRepeatFinished" >
                                
                                <td>{{transaction.transactionDate | date:'yyyy-MM-dd HH:mm'}}</td>
                                <td>{{transaction.transactionType.accountType}}</td>
                                <td>{{transaction.counterPartyAccount.accountNumber}}</td>                       
                                <td>{{transaction.amount}}</td>
                                <td>{{transaction.mccCode.irsDescription}}</td>
                                <td><md-button class="md-raised md-warn" type="button" ng-click="vm.viewMap(transaction.latitude, transaction.longitude)">View Transaction Location</md-button></td>

                            </tr>
                            
                        </tbody>
                    </table>

                </div>         
            </div><!-- /.col -->
        </div>
    </section>

</div>

<!-- The Modal -->
<div id="myModal" class="modal">
  <div id="iframeDiv"class="modal-content">
  </div>
</div>

<div class="modal fade modal-notify" my-modal id="noResultModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">

    <div class="modal-dialog" role="document">
        <div class="modal-content">

            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" >
                    <span aria-hidden="true">&times;</span>
                </button>
                
                <div class="text-center">
                    <img src="http://i3.kym-cdn.com/photos/images/original/000/652/022/3d9.png" class="user-image" alt="User Image" align="center" style="width:100px; height:100px;"/>
                </div>
                
                </br>
                
                <h5 for="message-text" class="control-label"><b>Sorry something went wrong. Please try again later.</b></h5>

                <md-button class="md-raised md-warn pull-right" data-dismiss="modal" style="margin-top:20px;margin-left:40px;">Close</md-button>
                
            </div>

        </div>
    </div>

</div>

<div class="modal modal-static fade" my-modal-process id="processing-modal" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-body">
                <div class="text-center">
                    <img src="http://melaha2016.ainegypt.org/images/pg.gif" style="width:85px;height:71px;" class="icon" />
                </div>
            </div>

        </div>
    </div>
</div>
